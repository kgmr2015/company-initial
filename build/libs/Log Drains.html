<!DOCTYPE html>
<!-- saved from url=(0058)https://cf4devs.rscale.io/visibility/log-drains/index.html -->
<html lang="en" class="js csstransforms3d js csstransforms3d"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="generator" content="Hugo 0.20.7">
<meta name="description" content="">
<script async="" src="./Log Drains_files/analytics.js.download"></script><script src="./Log Drains_files/kGgO2h4PYc9Z6wkZ6YIFi50MzfE.js.download"></script><link rel="shortcut icon" href="https://cf4devs.rscale.io/images/favicon.png" type="image/x-icon">
<title>Log Drains</title>
<link href="./Log Drains_files/nucleus.css" rel="stylesheet">
<link href="./Log Drains_files/font-awesome.min.css" rel="stylesheet">
<link href="./Log Drains_files/hybrid.css" rel="stylesheet">
<link href="./Log Drains_files/featherlight.min.css" rel="stylesheet">
<link href="./Log Drains_files/perfect-scrollbar.min.css" rel="stylesheet">
<link href="./Log Drains_files/horsey.css" rel="stylesheet">
<link href="./Log Drains_files/theme.css" rel="stylesheet">
<link href="./Log Drains_files/hugo-theme.css" rel="stylesheet">
<script src="./Log Drains_files/jquery-2.x.min.js.download"></script>
<style type="text/css">:root #header + #content > #left > #rlblock_left
    {display:none !important;}</style>
<link href="./Log Drains_files/style.css" rel="stylesheet">
</head>
<body class="" data-url="/visibility/log-drains/">
<nav id="sidebar">
<div id="header-wrapper">
<div id="header">
<a id="logo" href="https://cf4devs.rscale.io/index.html">
<img src="./Log Drains_files/resilient-scale-logo-small.png">
</a>
</div>
</div>
<div class="highlightable ps-container ps-theme-default ps-active-y" data-ps-id="f7ba169a-0516-cf8c-8155-1dc39bae7f6e" style="height: 568px;">
<ul class="topics">
<li class="dd-item   visited" data-nav-id="/overview/">
<a href="https://cf4devs.rscale.io/overview/index.html">
<span>
Course Overview
<i class="fa fa-check read-icon"></i>
</span>
</a>
<ul>
<li class="dd-item  visited" data-nav-id="/overview/description/">
<a href="https://cf4devs.rscale.io/overview/description/index.html">
<i class="fa fa-gears"></i>
Description <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/overview/prerequisites/">
<a href="https://cf4devs.rscale.io/overview/prerequisites/index.html">
<i class="fa fa-gears"></i>
Prerequisites <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/overview/cheatsheet/">
<a href="https://cf4devs.rscale.io/overview/cheatsheet/index.html">
<i class="fa fa-gears"></i>
Cheatsheet <i class="fa fa-check read-icon"> </i>
</a>
</li>
</ul>
</li>
<li class="dd-item   visited" data-nav-id="/basics/">
<a href="https://cf4devs.rscale.io/basics/index.html">
<span>
Basics
<i class="fa fa-check read-icon"></i>
</span>
</a>
<ul>
<li class="dd-item  visited" data-nav-id="/basics/cf-motivators/">
<a href="https://cf4devs.rscale.io/basics/cf-motivators/index.html">
<i class="fa fa-tv"></i>
CF Motivators <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/basics/installing-the-cli/">
<a href="https://cf4devs.rscale.io/basics/installing-the-cli/index.html">
<i class="fa fa-gears"></i>
Installing the CLI <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/basics/basic-definitions/">
<a href="https://cf4devs.rscale.io/basics/basic-definitions/index.html">
<i class="fa fa-tv"></i>
Basic Definitions <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/basics/targeting/">
<a href="https://cf4devs.rscale.io/basics/targeting/index.html">
<i class="fa fa-gears"></i>
Logging In &amp; Targeting <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/basics/tech-overview/">
<a href="https://cf4devs.rscale.io/basics/tech-overview/index.html">
<i class="fa fa-tv"></i>
Tech Overview <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/basics/pushing-apps/">
<a href="https://cf4devs.rscale.io/basics/pushing-apps/index.html">
<i class="fa fa-gears"></i>
Pushing apps <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/basics/core-themes/">
<a href="https://cf4devs.rscale.io/basics/core-themes/index.html">
<i class="fa fa-tv"></i>
Core Themes <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/basics/scaling-apps/">
<a href="https://cf4devs.rscale.io/basics/scaling-apps/index.html">
<i class="fa fa-gears"></i>
Scaling Applications <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/basics/logging-metrics/">
<a href="https://cf4devs.rscale.io/basics/logging-metrics/index.html">
<i class="fa fa-tv"></i>
Logging and Metrics <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/basics/logs-events/">
<a href="https://cf4devs.rscale.io/basics/logs-events/index.html">
<i class="fa fa-gears"></i>
App Logs &amp; Events <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/basics/resiliency/">
<a href="https://cf4devs.rscale.io/basics/resiliency/index.html">
<i class="fa fa-tv"></i>
Resiliency <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/basics/kill/">
<a href="https://cf4devs.rscale.io/basics/kill/index.html">
<i class="fa fa-gears"></i>
Application Resiliency <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/basics/services/">
<a href="https://cf4devs.rscale.io/basics/services/index.html">
<i class="fa fa-tv"></i>
Services <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/basics/marketplace-services/">
<a href="https://cf4devs.rscale.io/basics/marketplace-services/index.html">
<i class="fa fa-gears"></i>
Marketplace Services <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/basics/12factor/">
<a href="https://cf4devs.rscale.io/basics/12factor/index.html">
<i class="fa fa-tv"></i>
12 Factor <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/basics/env-manifest/">
<a href="https://cf4devs.rscale.io/basics/env-manifest/index.html">
<i class="fa fa-gears"></i>
Envars &amp; Manifests <i class="fa fa-check read-icon"> </i>
</a>
</li>
</ul>
</li>
<li class="dd-item   visited" data-nav-id="/app-lifecycle/">
<a href="https://cf4devs.rscale.io/app-lifecycle/index.html">
<span>
Application Lifecycle
<i class="fa fa-check read-icon"></i>
</span>
</a>
<ul>
<li class="dd-item  visited" data-nav-id="/app-lifecycle/staging/">
<a href="https://cf4devs.rscale.io/app-lifecycle/staging/index.html">
<i class="fa fa-tv"></i>
Staging <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/app-lifecycle/ruby-web-ui/">
<a href="https://cf4devs.rscale.io/app-lifecycle/ruby-web-ui/index.html">
<i class="fa fa-gears"></i>
Pushing the Ruby UI <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/app-lifecycle/app-ex/">
<a href="https://cf4devs.rscale.io/app-lifecycle/app-ex/index.html">
<i class="fa fa-tv"></i>
App Execution <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/app-lifecycle/container-ssh/">
<a href="https://cf4devs.rscale.io/app-lifecycle/container-ssh/index.html">
<i class="fa fa-gears"></i>
Container SSH <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/app-lifecycle/app-lifecycle/">
<a href="https://cf4devs.rscale.io/app-lifecycle/app-lifecycle/index.html">
<i class="fa fa-tv"></i>
Managing Lifecycle <i class="fa fa-check read-icon"> </i>
</a>
</li>
</ul>
</li>
<li class="dd-item  parent visited" data-nav-id="/visibility/">
<a href="https://cf4devs.rscale.io/visibility/index.html">
<span>
Visibility
<i class="fa fa-check read-icon"></i>
</span>
</a>
<ul>
<li class="dd-item  visited" data-nav-id="/visibility/log-drain-review/">
<a href="https://cf4devs.rscale.io/visibility/log-drain-review/index.html">
<i class="fa fa-tv"></i>
Loggregator Review <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item active visited" data-nav-id="/visibility/log-drains/">
<a href="https://cf4devs.rscale.io/visibility/log-drains/index.html">
<i class="fa fa-gears"></i>
Log Drains <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item " data-nav-id="/visibility/dev-metrics/">
<a href="https://cf4devs.rscale.io/visibility/dev-metrics/index.html">
<i class="fa fa-tv"></i>
Developer Metrics <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item " data-nav-id="/visibility/firehose/">
<a href="https://cf4devs.rscale.io/visibility/firehose/index.html">
<i class="fa fa-gears"></i>
Firehose <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item " data-nav-id="/visibility/apm/">
<a href="https://cf4devs.rscale.io/visibility/apm/index.html">
<i class="fa fa-gears"></i>
APM - New Relic <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/visibility/service-keys/">
<a href="https://cf4devs.rscale.io/visibility/service-keys/index.html">
<i class="fa fa-tv"></i>
Service Keys <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item  visited" data-nav-id="/visibility/service-keys-mysql/">
<a href="https://cf4devs.rscale.io/visibility/service-keys-mysql/index.html">
<i class="fa fa-gears"></i>
Service Keys <i class="fa fa-check read-icon"> </i>
</a>
</li>
</ul>
</li>
<li class="dd-item  " data-nav-id="/routing/">
<a href="https://cf4devs.rscale.io/routing/index.html">
<span>
Routing
<i class="fa fa-check read-icon"></i>

</span>
</a>
<ul>
<li class="dd-item " data-nav-id="/routing/manipulating-routes/">
<a href="https://cf4devs.rscale.io/routing/manipulating-routes/index.html">
<i class="fa fa-tv"></i>
Manipulating Routes <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item " data-nav-id="/routing/blue-green/">
<a href="https://cf4devs.rscale.io/routing/blue-green/index.html">
<i class="fa fa-gears"></i>
Blue/Green Deployment <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item " data-nav-id="/routing/route-services/">
<a href="https://cf4devs.rscale.io/routing/route-services/index.html">
<i class="fa fa-tv"></i>
Route Services <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item " data-nav-id="/routing/rate-limiting/">
<a href="https://cf4devs.rscale.io/routing/rate-limiting/index.html">
<i class="fa fa-gears"></i>
Rate Limiting <i class="fa fa-check read-icon"> </i>
</a>
</li>
<li class="dd-item " data-nav-id="/routing/tcp-routing/">
<a href="https://cf4devs.rscale.io/routing/tcp-routing/index.html">
<i class="fa fa-tv"></i>
TCP Routing <i class="fa fa-check read-icon"> </i>
</a>
</li>
</ul>
</li>
</ul>
<hr>
<p class="history"><a class="padding" href="https://cf4devs.rscale.io/visibility/log-drains/index.html#" data-clear-history-toggle=""><i class="fa fa-fw fa-history"></i> clear history</a></p>
<section id="footer">
</section>
<div class="ps-scrollbar-x-rail" style="left: 0px; bottom: 0px;"><div class="ps-scrollbar-x" tabindex="0" style="left: 0px; width: 0px;"></div></div><div class="ps-scrollbar-y-rail" style="top: 0px; right: 0px; height: 568px;"><div class="ps-scrollbar-y" tabindex="0" style="top: 0px; height: 559px;"></div></div></div>
</nav>
<section id="body">
<div id="overlay"></div>
<div class="padding highlightable">
<div id="top-bar">
<div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
<span id="sidebar-toggle-span">
<a href="https://cf4devs.rscale.io/visibility/log-drains/index.html#" id="sidebar-toggle" data-sidebar-toggle="" class="highlight">
<i class="fa fa-bars"></i>
</a>
</span>
<a href="https://cf4devs.rscale.io/visibility/index.html" itemprop="url" class="highlight"><span itemprop="title">Visibility</span></a> <i class="fa fa-angle-right"></i>
<span itemprop="title"> Log Drains</span>
</div>
<div class="progress">
<div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="https://cf4devs.rscale.io/visibility/log-drains/index.html#log-drains" class="highlight">Log Drains</a></li>
<li><a href="https://cf4devs.rscale.io/visibility/log-drains/index.html#checking-your-work" class="highlight">Checking Your Work</a></li>
</ul></li>
</ul>
</nav>
</div>
</div>
</div>
<div id="body-inner">
<div class="content">
<h1><i class="fa fa-gears"></i> Log Drains</h1>
</div>
<p>In this exercise, you will export logs from Cloud Foundry via log drain.</p>
<h2 id="log-drains">Log Drains</h2>
<p>Due to the ephemeral nature of CF, it is necessary to drain logs to an external service.</p>
<p>For this exercise, we will leverage the free trial from Papertrail, a log aggregator as a service.</p>
<ul>
<li>Sign up for an account here:
<a target="_blank" href="https://papertrailapp.com/" class="highlight">https://papertrailapp.com/</a>
</li>
<li>Follow the instructions on the papertrail site:
<a target="_blank" href="http://help.papertrailapp.com/kb/hosting-services/cloud-foundry/" class="highlight">http://help.papertrailapp.com/kb/hosting-services/cloud-foundry/</a>
<ul>
<li>Be sure to bind your user provided service instance to the roster app</li>
<li>You can optionally bind the same upsi to your ruby-web-ui if you want to</li>
</ul></li>
<li>After you have made the necessary configuration changes, you will need to access your app to generate some log output and complete the connection to papertrail.</li>
</ul>
<p>The process of creating a user provided service and draining logs is the same regardless of the log aggregator (ELK, Splunk, etc).</p>
<blockquote>
<p>NOTE: <code>cf cups</code><span class="copy-to-clipboard" title="Copy to clipboard"></span> creates a User-Provided Service Instance. We came across these earlier in the ‘services’ slides.</p>
</blockquote>
<h2 id="checking-your-work">Checking Your Work</h2>
<p>Access your app &amp; generate some log output.
You should be able to see the application log output in the Papertrail web UI.
Verify that this the same as the output from <code>cf logs</code><span class="copy-to-clipboard" title="Copy to clipboard"></span></p>
</div>
</div>

<div id="navigation">
<a class="nav nav-prev" href="https://cf4devs.rscale.io/visibility/log-drain-review/index.html"> <i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href="https://cf4devs.rscale.io/visibility/dev-metrics/index.html" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
</div>
<div class="footer">(c) 2017 Resilient Scale Inc</div>
</section>
<div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
<div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
</div>
<script src="./Log Drains_files/clipboard.min.js.download"></script>
<script src="./Log Drains_files/perfect-scrollbar.min.js.download"></script>
<script src="./Log Drains_files/perfect-scrollbar.jquery.min.js.download"></script>
<script src="./Log Drains_files/jquery.sticky-kit.min.js.download"></script>
<script src="./Log Drains_files/featherlight.min.js.download"></script>
<script src="./Log Drains_files/html5shiv-printshiv.min.js.download"></script>
<script src="./Log Drains_files/highlight.pack.js.download"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="./Log Drains_files/modernizr.custom.71422.js.download"></script>
<script src="./Log Drains_files/learn.js.download"></script>
<script src="./Log Drains_files/hugo-learn.js.download"></script>


<div id="techsmith-snagitchrome-extension"></div></body></html>